<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
<!--
  Base xacro macro.

  NOTE this is NOT a URDF. It cannot directly be loaded by consumers
  expecting a flattened '.urdf' file. XACRO is a macro language used in URDF
  to better describe the model. See the XACRO instruction in ROS Wiki.
  A xacro file must be processed by the xacro command to parse the model.
-->

  <xacro:macro name="venus" params="parent prefix *origin">

  <!-- Constants for robot dimensions -->

  <joint name="${prefix}base_joint" type="fixed">
    <xacro:insert_block name="origin" />
    <parent link="${parent}"/>
    <child link="${prefix}base_link" />
  </joint>

  <!-- Base Link -->
  <link name="${prefix}base_link">
    <visual>
      <origin xyz="0 0 0" rpy="${pi/2} 0 0" />
      <geometry>
        <mesh filename="package://venus_description/meshes/base_link.STL" />
      </geometry>
      <material name="grey"/>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="${pi/2} 0 0" />
      <geometry>
        <mesh filename="package://venus_description/meshes/base_link.STL" />
      </geometry>
    </collision>

    <inertial>
      <origin
        xyz="2.095325E-5 -4.245919E-6 4.2420025E-2"
        rpy="${radians(-0.069)} ${radians(-0.103)} ${radians(90.167)}" /> 
      <mass value="0.325378" />
      <inertia
        ixx="4.8663191E-4" ixy="2.9908669E-8" ixz="-2.25669762E-7"
        iyy="4.7623896E-4" iyz="1.8332926E-7"
        izz="6.2905340E-4" />
    </inertial>
  </link>

  <joint name="${prefix}joint1" type="continuous">
    <parent link="${prefix}base_link" />
    <child link="${prefix}link1" />
    <origin xyz="0 0 0.074" rpy="0 0 0" />
    <axis xyz="0 0 -1" />
    <limit effort="2" velocity="5.5" />
  </joint>

  <!-- Link1 -->
  <link name="${prefix}link1">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://venus_description/meshes/link1.STL" />
      </geometry>
      <material name="grey"/>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link1.STL" />
      </geometry>
    </collision>

    <inertial>
      <origin xyz="-6.2872E-18 7.6755E-18 0.035846" rpy="0 0 0" />
      <mass value="0.37205" />
      <inertia
        ixx="0.00018192" ixy="1.6333E-06" ixz="2.68E-21"
        iyy="0.00080831" iyz="-7.0181E-21"
        izz="0.0007698" />
    </inertial>
  </link>

  <joint name="${prefix}joint2" type="revolute">
    <parent link="${prefix}link1" />
    <child link="${prefix}link2" />
    <!-- <origin xyz="-0.089 0 0.042" rpy="0.30054 0 0" /> -->
    <origin xyz="-0.089 0 0.042" rpy="0 0 0" />
    <axis xyz="-1 0 0" />
    <limit lower="-${pi/2}" upper="${pi/2}" effort="2" velocity="5.5" />
  </joint>

  <!-- Link2 -->
  <link name="${prefix}link2">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link2.STL" />
      </geometry>
      <material name="grey"/>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link2.STL" />
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0.00027312 -6.8025E-07 0.11528" rpy="0 0 0" />
      <mass value="0.46302" />
      <inertia
        ixx="0.0050956" ixy="1.5226E-06" ixz="-2.4094E-05"
        iyy="0.0057069" iyz="6.0009E-08"
        izz="0.00074387" />
    </inertial>
  </link>

  <joint name="${prefix}joint3" type="revolute">
    <parent link="${prefix}link2" />
    <child link="${prefix}link3" />
    <!-- <origin xyz="0.05725 -0.00014259 0.2789" rpy="0.79723 -0.0016401 3.1407" /> -->
    <origin xyz="0.05725 0 0.2789" rpy="0 0 ${pi}" />
    <axis xyz="-1 0 0" />
    <limit
      lower="-${pi/2}" upper="${pi/2}" effort="2" velocity="5.5" />
  </joint>

  <!-- Link3 -->
  <link name="${prefix}link3">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link3.STL" />
      </geometry>
      <material name="grey"/>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link3.STL" />
      </geometry>
    </collision>

    <inertial>
      <origin xyz="-0.0046535 0.020103 0.038177" rpy="0 0 0" />
      <mass value="0.06371" />
      <inertia
        ixx="9.6305E-05" ixy="2.2401E-05" ixz="2.2964E-05"
        iyy="9.2394E-05" iyz="-3.1351E-05"
        izz="6.149E-05" />
    </inertial>
  </link>

  <joint name="${prefix}joint4" type="revolute">
    <parent link="${prefix}link3" />
    <child link="${prefix}link4" />
    <!-- <origin xyz="-0.031631 0.052087 0.064988" rpy="0.7035 1.3411 2.2852" /> -->
    <origin xyz="-0.031631 0.052087 0.064988" rpy="${-80*pi/180} 0 0" />
    <axis xyz="0 0 -1" />
    <limit lower="-${pi}" upper="${pi}" effort="2" velocity="5.5" />
  </joint>

  <!-- Link4 -->
  <link name="${prefix}link4">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 ${pi/2}" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link4.STL" />
      </geometry>
      <material name="grey"/>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 ${pi/2}" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link4.STL" />
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 -0.0016144 0.1471" rpy="0 0 0" />
      <mass value="0.41614" />
      <inertia
        ixx="0.0046604" ixy="5.421E-20" ixz="-2.0329E-20"
        iyy="0.004614" iyz="-5.9856E-05"
        izz="0.00017165" />
    </inertial>
  </link>

  <joint name="${prefix}joint5" type="revolute">
    <parent link="${prefix}link4" />
    <child link="${prefix}link5" />
    <!-- <origin xyz="0 -0.034 0.2684" rpy="-0.0364343502514425 -0.00544912780563413 -1.71919063956753" /> -->
    <origin xyz="0 0 0.2684" rpy="0 0 0" />
    <axis xyz="-1 0 0" />
    <limit lower="-${pi/2}" upper="${pi/2}" effort="2" velocity="5.5" />
  </joint>

  <!-- Link5 -->
  <link name="${prefix}link5">
    <visual>
      <origin xyz="0.033 0 0" rpy="0 0 -0.15" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link5.STL" />
      </geometry>
      <material name="grey"/>
    </visual>

    <collision>
      <origin xyz="0.033 0 0" rpy="0 0 -0.15" />
      <geometry>
        <mesh
          filename="package://venus_description/meshes/link5.STL" />
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0.0026601 0.00039794 0.012151" rpy="0 0 0" />
      <mass value="0.030074" />
      <inertia
        ixx="1.6785E-05" ixy="-2.2863E-07" ixz="4.4532E-06"
        iyy="1.8279E-05" iyz="6.6617E-07"
        izz="1.2072E-05" />
    </inertial>
  </link>
  
  </xacro:macro>

</robot>